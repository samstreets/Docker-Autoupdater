version: "3.8"

services:
  docker-autoupdater:
    image: samuelstreets/docker-updater:latest
    # Or build locally:
    # build: .
    container_name: docker-autoupdater
    restart: unless-stopped
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
    environment:
      # How often to check for updates (in minutes). Set to 0 to run once and exit.
      CHECK_INTERVAL_MINUTES: "60"

      # Set to "true" to automatically pull + recreate containers when updates are found.
      # Set to "false" to only log/notify without making changes.
      AUTO_UPDATE: "true"

      # Only manage containers with this label (e.g. "autoupdate=true").
      # Leave empty to check ALL running containers (default).
      LABEL_ENABLE: ""

      # Set to "true" to simulate updates without actually making changes.
      DRY_RUN: "false"

      # Optional: POST notifications to this webhook (Discord, Slack, Gotify, etc.)
      NOTIFY_WEBHOOK: ""

      # Log verbosity: DEBUG | INFO | WARNING | ERROR
      LOG_LEVEL: "INFO"
